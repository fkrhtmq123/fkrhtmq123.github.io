<div id="main">
  {% assign jp_posts = site.posts | where: "categories", "jp" %}
  {% assign paginator = jp_posts | paginate: paginator.per_page %}

  {% for post in paginator %}
    {% assign item = post %}
    {% assign index = true %}
    {% assign desc = true %}
  
    {% if item.categories contains 'jp' %}
      {% include _partial/article.html %}
    {% endif %}
  {% endfor %}
  
  {% if paginator | size > 1 %}
    <nav id="page-nav" class="clearfix{% if site.index.expand != true  %} unexpand{% endif %}">
      {% if paginator.previous_page %}
        <a class="extend prev" rel="prev" href="{{ paginator.previous_page_path }}"><span></span>Prev</a>
      {% endif %}
      {% if paginator.page == 1 %}
        <span class="page-number current">1</span>
      {% else %}
        <a class="page-number" href="/jp/">1</a> <!-- 기본 페이지 링크 수정 -->
      {% endif %}
      {% for i in (2..paginator.total_pages) %}
        {% if i == paginator.page %}
          <span class="page-number current">{{ i }}</span>
        {% else %}
          <a class="page-number" href="/jp/page{{ i }}">{{ i }}</a> <!-- jp 페이지 링크 수정 -->
        {% endif %}
      {% endfor %}
      {% if paginator.next_page %}
        <a class="extend next" rel="next" href="{{ paginator.next_page_path }}">Next<span></span></a>
      {% endif %}
    </nav>
  {% endif %}
</div>
